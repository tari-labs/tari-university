<div class="modules">
  {% for post in site.posts reversed %}
    {% if post.format == "course" %}
      {% assign minutes = 0 %}
      {% for module in site.posts reversed %}
        {% if module.course == post.category %}
          {% capture minutes %}{{ minutes | plus:module.time }}{% endcapture %}
        {% endif %}
      {% endfor %}
      {% assign timeUnit = "min" %}
      {% assign minutes = minutes | plus: 0 %}
      {% include timeUnitCalc.html %}
      <a href="{{ post.url }}">
      <div class="module">
        <img src="{{ post.icon }}" class="modulesvgs"/>
        <div class="moduleInner">
          <span class="moduleTime"><img src="/images/clock-white.svg"> {{ minutes }} {{ timeUnit }}</span>
          <h4 class="moduleHeading">Course {{ post.courseno }}:<br />
            {{ post.title }}</h4>
          <img class="moduleLine" src="/images/icons/line-{{ post.level }}.svg" />
          <p>{{ post.description }}</p>
          <span class="moduleTick"><img src="/images/tickmark.svg"></span>
        </div>
      </div>
      </a>
    {% endif %}
  {% endfor %}
</div>

<div class="key">
  <div class="key-item"><img src="/images/icons/key-beginner.svg">Beginner</div>
  <div class="key-item"><img src="/images/icons/key-intermediate.svg">Intermediate</div>
  <div class="key-item"><img src="/images/icons/key-advanced.svg">Advanced</div>
</div>
